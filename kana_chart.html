<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>íˆë¼ê°€ë‚˜ / ê°€íƒ€ì¹´ë‚˜ 50ìŒë„</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        body { font-family: 'Pretendard', sans-serif; overflow: hidden; /* ì „ì²´ ìŠ¤í¬ë¡¤ ë°©ì§€ */ }
        
        /* ë“œë˜ê·¸ ì˜ì—­ ìŠ¤íƒ€ì¼ */
        #image-container {
            cursor: grab; /* ì†ë°”ë‹¥ ì»¤ì„œ */
            overflow: hidden; /* ë„˜ì¹˜ëŠ” ì´ë¯¸ì§€ ìˆ¨ê¹€ */
            touch-action: none; /* ëª¨ë°”ì¼ ì œìŠ¤ì²˜ ì¶©ëŒ ë°©ì§€ (í•„ìš”ì‹œ) */
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #fff;
        }
        
        #image-container:active {
            cursor: grabbing; /* ì¡ì€ ì»¤ì„œ */
        }

        #chart-image {
            transition: transform 0.1s linear; /* ë“œë˜ê·¸ ë°˜ì‘ì„±ì„ ìœ„í•´ ì§§ê²Œ ì„¤ì • */
            max-width: 100%;
            max-height: 100%;
            user-select: none; /* ë“œë˜ê·¸ ì‹œ íŒŒë€ìƒ‰ ë¸”ë¡ ì¡íˆëŠ” ê²ƒ ë°©ì§€ */
            -webkit-user-drag: none; /* ì´ë¯¸ì§€ ìì²´ ë“œë˜ê·¸ ë°©ì§€ */
        }
    </style>
</head>
<body class="bg-gray-50 h-screen flex flex-col">

    <div class="flex-shrink-0 text-center py-4 bg-white shadow-sm z-10">
        <h2 class="text-xl font-bold text-gray-800">50ìŒë„í‘œ</h2>
        <p class="text-rose-500 text-sm font-medium">ã²ã‚‰ãŒãªãƒ»ã‚«ã‚¿ã‚«ãƒŠ</p>
    </div>

    <div id="image-container" class="flex-grow relative w-full h-full bg-gray-100">
        <img id="chart-image" src="kana.jpeg" alt="íˆë¼ê°€ë‚˜ ê°€íƒ€ì¹´ë‚˜ í‘œ">
    </div>

    <div class="absolute top-20 left-0 right-0 text-center pointer-events-none">
        <span class="bg-black/50 text-white text-xs px-3 py-1 rounded-full">
            PC: ë“œë˜ê·¸í•˜ì—¬ ì´ë™ / ëª¨ë°”ì¼: ì†ê°€ë½ ì¤Œ
        </span>
    </div>

    <div class="fixed bottom-6 right-6 flex flex-col gap-2 z-50">
        <button onclick="zoomIn()" class="bg-white text-gray-700 p-3 rounded-full shadow-lg border border-gray-200 hover:bg-rose-50 hover:text-rose-600 active:bg-rose-100 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
            </svg>
        </button>
        <button onclick="resetZoom()" class="bg-white text-gray-700 p-3 rounded-full shadow-lg border border-gray-200 hover:bg-indigo-50 hover:text-indigo-600 active:bg-indigo-100 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99" />
            </svg>
        </button>
        <button onclick="zoomOut()" class="bg-white text-gray-700 p-3 rounded-full shadow-lg border border-gray-200 hover:bg-blue-50 hover:text-blue-600 active:bg-blue-100 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 12h-15" />
            </svg>
        </button>
    </div>

   <script>
        const img = document.getElementById('chart-image');
        const container = document.getElementById('image-container');

        let scale = 1;
        let pointX = 0;
        let pointY = 0;
        let startX = 0;
        let startY = 0;
        let isDragging = false;

        // í•€ì¹˜ ì¤Œì„ ìœ„í•œ ë³€ìˆ˜
        let initialDistance = 0;
        let initialScale = 1;

        // í™”ë©´ ê°±ì‹  í•¨ìˆ˜
        function updateTransform() {
            img.style.transform = `translate(${pointX}px, ${pointY}px) scale(${scale})`;
        }

        // --- ë²„íŠ¼ ì¤Œ ê¸°ëŠ¥ ---
        function zoomIn() {
            if (scale < 5) {
                scale += 0.25;
                updateTransform();
            }
        }

        function zoomOut() {
            if (scale > 0.5) {
                scale -= 0.25;
                updateTransform();
            }
        }

        function resetZoom() {
            scale = 1;
            pointX = 0;
            pointY = 0;
            updateTransform();
        }

        // --- PC ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ (ë“œë˜ê·¸) ---
        container.addEventListener('mousedown', (e) => {
            e.preventDefault();
            isDragging = true;
            startX = e.clientX - pointX;
            startY = e.clientY - pointY;
        });

        container.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            e.preventDefault();
            pointX = e.clientX - startX;
            pointY = e.clientY - startY;
            updateTransform();
        });

        container.addEventListener('mouseup', () => { isDragging = false; });
        container.addEventListener('mouseleave', () => { isDragging = false; });

        // --- PC ë§ˆìš°ìŠ¤ íœ  ì¤Œ ---
        container.addEventListener('wheel', (e) => {
            e.preventDefault();
            if (e.deltaY < 0) zoomIn();
            else zoomOut();
        }, { passive: false });


        // =========================================
        //  ğŸ“± ëª¨ë°”ì¼ í„°ì¹˜ ì´ë²¤íŠ¸ (ì¶”ê°€ëœ ë¶€ë¶„)
        // =========================================

        // ë‘ ì†ê°€ë½ ì‚¬ì´ì˜ ê±°ë¦¬ë¥¼ êµ¬í•˜ëŠ” í•¨ìˆ˜ (í”¼íƒ€ê³ ë¼ìŠ¤ ì •ì˜)
        function getDistance(touches) {
            const dx = touches[0].clientX - touches[1].clientX;
            const dy = touches[0].clientY - touches[1].clientY;
            return Math.hypot(dx, dy);
        }

        container.addEventListener('touchstart', (e) => {
            if (e.touches.length === 1) {
                // ì†ê°€ë½ 1ê°œ: ë“œë˜ê·¸ ì‹œì‘
                isDragging = true;
                startX = e.touches[0].clientX - pointX;
                startY = e.touches[0].clientY - pointY;
            } else if (e.touches.length === 2) {
                // ì†ê°€ë½ 2ê°œ: í•€ì¹˜ ì¤Œ ì‹œì‘
                isDragging = false; // ì¤Œ ì¤‘ì—ëŠ” ë“œë˜ê·¸ ì¤‘ì§€
                initialDistance = getDistance(e.touches);
                initialScale = scale;
            }
        });

        container.addEventListener('touchmove', (e) => {
            e.preventDefault(); // ë¸Œë¼ìš°ì € ê¸°ë³¸ ìŠ¤í¬ë¡¤ ë°©ì§€

            if (e.touches.length === 1 && isDragging) {
                // ì†ê°€ë½ 1ê°œ: ì´ë™ (Pan)
                pointX = e.touches[0].clientX - startX;
                pointY = e.touches[0].clientY - startY;
                updateTransform();

            } else if (e.touches.length === 2) {
                // ì†ê°€ë½ 2ê°œ: í™•ëŒ€/ì¶•ì†Œ (Pinch Zoom)
                const currentDistance = getDistance(e.touches);
                if (initialDistance > 0) {
                    // ê±°ë¦¬ ë¹„ìœ¨ì— ë”°ë¼ ìŠ¤ì¼€ì¼ ì¡°ì ˆ
                    const diff = currentDistance / initialDistance;
                    let newScale = initialScale * diff;

                    // ìµœì†Œ/ìµœëŒ€ ìŠ¤ì¼€ì¼ ì œí•œ
                    newScale = Math.max(0.5, Math.min(newScale, 5));
                    
                    scale = newScale;
                    updateTransform();
                }
            }
        }, { passive: false });

        container.addEventListener('touchend', () => {
            isDragging = false;
            initialDistance = 0;
        });

    </script>
</body>
</html>
